n = int("""303408775548355357303998226634426760701924791844079603325848253
407160173724348187570227977951033614980221853318269239546613677
873383686085139855105968198297822274194113989422399241558757230
413145108325429176370476447631178493130493907492038458295587153
309272304075956918002354799816179963177162080005198125408052790
397507950779016873579002822702184431623968347287397420803747649
054451043881828980185282847206409309005944616988293431882967771
363662807824619166421382313813260273419571014777496672059626612
538807122755716410048341103511181215356772725522422561538321107
73844986179943149196075825702863097284310947067639""".replace("\n",""))

b1 = int("""239514161616241650147282360537342406681460198810226150403436049
889713207029093744795078463833279661661419280879726485006145046
080525263760794358118261331592658008850721860378295494457120678
022158328960326446980458944802575250096800666945033516720715654
386986713708663497471000913674765464077967693520842313945174103
201336616846450831262765967191358697743008337810722305101261069
609859538625787734858108642856778197373242909422922706604251934
883574513930650296670293003040374036027014319871502231336864520
716845900199857671273538509308369635541111207562196620453206806
09378940001652009918809749853609169540149024198940""".replace("\n",""))

b2 = int("""302427084423859062796636138453670653253317645816331295673147528
288396188044727624941663968653239905065534684623816325787060928
613868789717270436773858404278044887016938457664661777044701018
790021302660421420423773935667524894188812040019156230368209254
983959871038396727677987856102269266655998888949624385151550688
677891683258185573379540675663547780675815495630553237622662557
794890074008867828812274651953640326005951944251502152105995174
284558640918618206850724534280081992909957215257329002568633412
662861419502744240891835142080124655155788386188234861473320419
89843351135838780889783773960257367268513990988121""".replace("\n",""))

b3 = int("""301196740167198016970789672423660858445343826462589851628003939
771999443173470454408829818281979558166915926420747639858670496
262785388935217466798241742799231100740432553237311275430372072
982656988613561731888929528721944429811276823702776764218111544
020098400001559057115299075995372171317926871825900528673826620
782679072814211719946112844650058386335686484495851325756811962
192977364033121946656849092980574442900266655194833659137603145
309829444480867939859834070188593873716273863838353455997627329
741203670749385622974364994798265636790330368641421060989946876
82942303878917173231817212069168664826711941772730""".replace("\n",""))

b4 = int("""194410354839815523789824184235047712368050618120639982374505830
310218275959429988744431559156437451081079305754294521246204578
743237080323766610840076531691524921118731639920396755892095118
928745482491350864905776310022277034142791708996209207846137243
372576156253468739111770023101327704280156255010253535051459347
537930034189831031602304727568185388944964550985809758379734189
535194216704187919262385079620335617786102689617112181646383418
351741298756677986091113798187656390136351204332606901732414653
265021970601923719053326244488729061716145412895857157992358511
16612591105047369984959996463455423483932518983498""".replace("\n",""))

b5 = int("""289819006938865087063572287317355752794911276956303908625895699
859556083552344527123721431145323604230205970395479171800598821
881097982785504947255646908113205806571390153089159906860325094
900453348337915879453999367316961814722195526281534702386641220
410257988816164906174209631881297909902609043821389037859185825
375876661168922146554500737585869958571717845040009548003674022
406837148276648174971756415697784261738695979121268722909131136
113009483542950068756198260803194125345867999209560960322123551
259938243872836809226400828100011669308458986475607595775527718
415938562185070034016433440517385680383864191859""".replace("\n",""))

blocks = [b1, b2, b3, b4, b5]
e = 65537

def int_to_letters(m):
    a = m // (26*26)
    b = (m // 26) % 26
    c = m % 26
    return "".join(chr(ord('A') + x) for x in (a,b,c))
    
lookup = {}
for m in range(26**3):
    c = pow(m, e, n)
    lookup[c] = m

decrypted_blocks = []
for i, c in enumerate(blocks, start=1):
    m = lookup.get(c, None)
    if m is not None:
        letters = int_to_letters(m)
        decrypted_blocks.append(letters)
        print(f"Block {i}: {m} -> {letters}")
    else:
        print(f"Block {i}: not found")

phrase = "".join(decrypted_blocks)
print("\nFull 15-character phrase:")
print(phrase)